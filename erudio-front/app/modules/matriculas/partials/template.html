<!--* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *    @author Municipio de Itajaí - Secretaria de Educação - DITEC         *
 *    @updated 30/06/2016                                                  *
 *    Pacote: Erudio                                                       *
 *                                                                         *
 *    Copyright (C) 2016 Prefeitura de Itajaí - Secretaria de Educação     *
 *                       DITEC - Diretoria de Tecnologias educacionais     *
 *                        ditec@itajai.sc.gov.br                           *
 *                                                                         *
 *    Este  programa  é  software livre, você pode redistribuí-lo e/ou     *
 *    modificá-lo sob os termos da Licença Pública Geral GNU, conforme     *
 *    publicada pela Free  Software  Foundation,  tanto  a versão 2 da     *
 *    Licença   como  (a  seu  critério)  qualquer  versão  mais  nova.    *
 *                                                                         *
 *    Este programa  é distribuído na expectativa de ser útil, mas SEM     *
 *    QUALQUER GARANTIA. Sem mesmo a garantia implícita de COMERCIALI-     *
 *    ZAÇÃO  ou  de ADEQUAÇÃO A QUALQUER PROPÓSITO EM PARTICULAR. Con-     *
 *    sulte  a  Licença  Pública  Geral  GNU para obter mais detalhes.     *
 *                                                                         *
 *    Você  deve  ter  recebido uma cópia da Licença Pública Geral GNU     *
 *    junto  com  este  programa. Se não, escreva para a Free Software     *
 *    Foundation,  Inc.,  59  Temple  Place,  Suite  330,  Boston,  MA     *
 *    02111-1307, USA.                                                     *
 *                                                                         *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->

<!-- CSS DO MODULO -->
<link rel="stylesheet" type="text/css" href="{{ config.extraUrl }}/app/modules/matriculas/assets/css/matriculas.css"/>
<link rel="stylesheet" type="text/css" href="{{ config.extraUrl }}/app/modules/matriculas/assets/css/mobile.css"/>

<div id="listaMatricula" style="position: relative;" >
    
    <!-- BANNER --> 
    <div class="row" style="height: 150px;">
        <div class="col s12 matricula-banner"></div>
        <div class="col s12 gradient relative">
            <div class='absolute title-module' style='bottom: 10px; color: #fafafa; font-size: 2.5rem;'></div>
            <i data-ng-show="lista === true" class="material-icons absolute" data-ng-click="ajuda()" style="bottom: 10px; right: 10px; color: #fafafa; cursor: pointer;">info_outline</i>
        </div>
    </div>
    
    <!-- BUSCA -->
    <div class="row" data-ng-show="lista === true">
        <div style="background: #fafafa; padding-top: 10px;" class="col s12">
            <div class="input-field col s12 m12 l12" style="padding: 5px !important;">
                <i class="material-icons prefix">perm_identity</i>
                <input id="nomeAlunoMatricula" type="text" class="validate" data-ng-model="matriculaBusca.aluno"/>
                <label for="nomeAlunoMatricula">Nome do Aluno</label>
            </div>
            <div data-ng-show="buscaAvancada" class="input-field col s12 m12 l6" style="padding: 5px !important;"> 
                <i class="material-icons prefix">toll</i>
                <input id="codigoBuscaMatricula" type="text" length="11" class="validate counter numeros"  data-ng-model="matriculaBusca.codigo"/>
                <label for="codigoBuscaMatricula">Código de Matrícula</label>
            </div>
            <div data-ng-show="buscaAvancada">
                <div class="input-field col s12 m12 l6" data-ng-hide="isAdmin" style="padding: 5px !important;">
                    <i class="material-icons prefix">account_balance</i>
                    <select id="unidadeBuscaMatricula" data-ng-change="selecionaUnidade()" data-ng-model="matriculaBusca.unidade">
                        <option value="{{unidade.id}}" data-ng-repeat="unidade in unidades" data-ng-selected="unidades.length === 1">{{unidade.nomeCompleto | uppercase}}</option>
                    </select>
                    <label for="unidadeBuscaMatricula">Unidade de Ensino</label>
                </div>
            </div>
            <div data-ng-show="buscaAvancada">
                <div data-ng-if="buscaAvancada" class="input-field col s12 m12 l6" data-ng-show="isAdmin" style="padding: 5px !important;">
                    <i class="material-icons prefix">account_balance</i>
                    <span class="digitable-icon"><i class="material-icons">border_color</i></span>
                    <input id="unidadeMatriculaAutoComplete" class="dropdown" type="text" data-ng-model="nomeUnidade" data-ng-change="buscarUnidades(nomeUnidade)" data-activates="dropUnidadesMatriculaBusca">
                    <label for="unidadeMatriculaAutoComplete">Unidade de Ensino</label>
                </div>
            </div>
            <div data-ng-show="buscaAvancada" class="input-field col s12 m12 l6" style="padding: 5px !important;">
                <i class="material-icons prefix">school</i>
                <select id="cursoBuscaMatricula" data-ng-model="matriculaBusca.curso">
                    <option value="" disabled selected></option>
                    <option value="{{ curso.curso.id }}" data-ng-repeat="curso in cursos">{{curso.curso.nome| uppercase}}</option>
                </select>
                <label for="cursoBuscaMatricula">Curso</label>
            </div>
            <div data-ng-show="buscaAvancada" class="input-field col s12 m12 l6" style="padding: 5px !important;">
                <i class="material-icons prefix">description</i>
                <select id="statusBuscaMatricula" data-ng-model="matriculaBusca.status">
                    <option disabled selected></option>
                    <option value="CURSANDO">CURSANDO</option>
                    <option value="APROVADO">APROVADO</option>
                    <option value="REPROVADO">REPROVADO</option>
                    <option value="TRANCADO">TRANCADO</option>
                    <option value="ABANDONO">ABANDONO</option>
                    <option value="FALECIDO">FALECIDO</option>
                </select>
                <label for="statusBuscaMatricula">Status</label>
            </div>
            <div class="end-card col s12" style="padding-top: 1rem">                        
                <a data-ng-click="buscarMatriculas(matriculaBusca)" class="waves-effect waves-blue btn-flat right"><i class="material-icons left">search</i><span class="hide-on-small-only">BUSCAR</span></a>
                <a data-ng-click="buscaAvancada=false" data-ng-show="buscaAvancada" class="waves-effect waves-blue btn-flat right"><i class="material-icons left">find_replace</i><span class="hide-on-small-only">BUSCA SIMPLES</span></a>
                <a data-ng-click="buscaAvancada=true" data-ng-hide="buscaAvancada" class="waves-effect waves-blue btn-flat right"><i class="material-icons left">find_in_page</i><span class="hide-on-small-only">BUSCA AVANÇADA</span></a>
                <a data-ng-click="reiniciarMatriculaBusca()" data-ng-show="buscaAvancada" class="waves-effect waves-blue btn-flat right"><i class="material-icons left">delete</i><span class="hide-on-small-only">LIMPAR BUSCA</span></a>                        
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s1 l1 hide-on-small-only"></div>
        <div class="col s12 l12 mobile-full init-card" style="padding: 0;">
            <!-- VIEW -->
            <div data-ng-include="tela"></div>
        </div>
        <div class="col s1 l1 hide-on-small-only"></div>
    </div>
    <div data-ng-show="lista === true"><matricula-erro data-ng-hide="matriculas.length"></matricula-erro></div>
    <controle-matricula></controle-matricula>
    <modal-matricula></modal-matricula>
</div>
